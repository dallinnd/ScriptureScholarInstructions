<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Scripture Guide PWA</title>
    <style>
        :root {
            --accent-blue: #2563eb;
            --tile-bg: #2563eb;
            --hover-bg: #9e9d9d;
            --close-red: #cc0404;
        }

        body { 
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; 
            background: #fcfcfc; 
            color: #111111; 
            margin: 0; 
            padding: 20px; 
            line-height: 1.6;
        }

        /* Full-screen Overlay */
        .overlay {
            position: fixed;
            top: 0; left: 0; 
            width: 100%; height: 100%;
            background: #000000;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
        }

        .popup-content {
            position: relative;
            width: 90%;
            height: auto;
            max-width: 500px; 
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        /* THE FIX: Added max-height to ensure it never exceeds desktop screens */
        .video-container {
            position: relative;
            width: 100%;
            aspect-ratio: 9 / 16;
            background: #000;
            max-height: 80vh; /* Limits height on desktop */
            display: flex;
            justify-content: center;
        }

        iframe { 
            width: 100%; 
            height: 100%; 
            border: none; 
        }

        /* Close Button Anchored to Top-Right of Video */
        .close-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: var(--close-red);
            color: white;
            border: 2px solid white;
            border-radius: 50%;
            width: 42px; 
            height: 42px;
            cursor: pointer;
            font-size: 24px;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10005;
            box-shadow: 0 4px 10px rgba(0,0,0,0.5);
        }

        #home-page { max-width: 1200px; margin: 0 auto; }
        .video-section { margin-bottom: 40px; }
        .video-section h3 { border-bottom: 2px solid #eee; padding-bottom: 8px; margin-bottom: 15px; }
        .welcome-text-container { margin-bottom: 15px; width: 100%; }
        .header { font-size: 1.15rem; font-weight: bold; }
        
        ul { padding-left: 20px; }
        li { margin-bottom: 6px; }
        hr { border: 0; border-top: 1px solid #fff; margin: 15px 0; }

        .video-grid { display: flex; flex-wrap: wrap; gap: 15px; }

        .video-tile {
            background: var(--tile-bg);
            color: #ffffff;
            padding: 18px 10px;
            border-radius: 25px;
            cursor: pointer;
            text-align: center;
            transition: 0.2s;
            flex: 1 1 calc(50% - 15px);
            min-width: 140px;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .video-tile:hover { background: var(--hover-bg); transform: translateY(-2px); }

        @media (min-width: 768px) {
            body { padding: 40px; }
            .video-tile { flex: 0 1 300px; font-size: 1rem; }
            /* On desktop, if the screen is short, the container will shrink to fit */
            .video-container {
                width: auto;
                height: 80vh;
                aspect-ratio: 9 / 16;
            }
        }
    </style>
</head>
<body>

    <div id="home-page">
        <h1 style="text-align: center; margin-bottom: 30px;">Instructions for Scripture Scholar App</h1>
        
        <section class="video-section">
            <h3>Welcome</h3>
            <div class="welcome-text-container">
                <div class="header">Study the Standard Works with the Scripture Scholar App.</div>
            </div>

            <div class="video-grid" style="margin-bottom: 20px;">
                <div class="video-tile" onclick="openVideo('https://www.youtube.com/shorts/m-zmU0yraZc')">Introduction Video</div>
            </div>

            <div class="welcome-text-container">
                <p>The first four sections are divided into useful steps:</p>
                <hr>
                <ul>
                    <li>Navigating the App</li>
                    <li>Searching the Standard Works</li>
                    <li>Saving Scriptures with Bookmarks</li>
                    <li>Viewing Chapters and Saved Verses</li>
                </ul>
                <hr>
            </div>
        </section>

        <section class="video-section">
            <h3>1) Navigating the App</h3>
            <div class="video-grid">
                <div class="video-tile" onclick="openVideo('https://youtube.com/shorts/8iAiRoe8Tu0')">Home Page and Bookmark Page</div>
                <div class="video-tile" onclick="openVideo('https://youtube.com/shorts/m3zrQsEyPws')">Home Page Features</div>
            </div>
        </section>

        <section class="video-section">
            <h3>2) Searching the Standard Works</h3>
            <div class="video-grid">
                <div class="video-tile" onclick="openVideo('https://youtube.com/shorts/uIdObsX5534')">Searching Word/Phrase</div>
                <div class="video-tile" onclick="openVideo('https://youtube.com/shorts/3MtkdVabLXo')">Searching Reference</div>
            </div>
        </section>

        <section class="video-section">
            <h3>3) Saving Scriptures with Bookmarks</h3>
            <div class="video-grid">
                <div class="video-tile" onclick="openVideo('https://youtube.com/shorts/v-HabI4GMwY')">Saving a Verse</div>
                <div class="video-tile" onclick="openVideo('https://youtube.com/shorts/jXRBmo74Uzw')">Saving Multiple Verses</div>
            </div>
        </section>

        <section class="video-section">
            <h3>4) Viewing Chapters and Saved Verses</h3>
            <div class="video-grid">
                <div class="video-tile" onclick="openVideo('https://youtube.com/shorts/VH99BQfqeO4')">Viewing a Chapter</div>
                <div class="video-tile" onclick="openVideo('https://youtube.com/shorts/ZhOzGeQIBxk')">Viewing/Managing Bookmarks</div>
            </div>
        </section>

        <section class="video-section">
            <h3>Farewell</h3>
            <div class="welcome-text-container">
                <p>We hope you enjoy the Scripture Scholar App during your personal study.</p>
                <hr>
            </div>
            <div class="video-grid">
                <div class="video-tile" onclick="openVideo('https://youtube.com/shorts/MKqVg20EqZM')">Goodbye</div>
            </div>
        </section>

        <section class="video-section" style="background:#eee">
            <h3>5) Troubleshooting and Warnings</h3>
            <div class="video-grid">
                <div class="video-tile" style="background: #808080" onclick="openVideo('https://youtube.com/shorts/mUpFQWWz4p8')">Troubleshooting iOS</div>
                <div class="video-tile" style="background: #808080" onclick="openVideo('https://youtube.com/shorts/Sa_FGbsyJTU')">Troubleshooting Android</div>
            </div>
        </section>
    </div>

    <div id="video-overlay" class="overlay" style="display:none;">
        <div class="popup-content">
            <div class="video-container" id="main-video-container"></div>
        </div>
    </div>

    <script>
        function openVideo(url) {
            const container = document.getElementById('main-video-container');
            const overlay = document.getElementById('video-overlay');
            
            let videoId = "";
            if (url.includes('shorts/')) {
                videoId = url.split('shorts/')[1].split('?')[0].split('&')[0];
            } else if (url.includes('v=')) {
                videoId = url.split('v=')[1].split('&')[0];
            } else {
                videoId = url.split('/').pop().split('?')[0];
            }

            container.innerHTML = `
                <button class="close-btn" onclick="closeVideo()">Ã—</button>
                <iframe src="https://www.youtube.com/embed/${videoId}?autoplay=1&rel=0&modestbranding=1" 
                        allow="autoplay; encrypted-media" 
                        allowfullscreen></iframe>`;
            
            overlay.style.display = 'flex';
            document.body.style.overflow = 'hidden'; 
        }

        function closeVideo() {
            const container = document.getElementById('main-video-container');
            const overlay = document.getElementById('video-overlay');
            container.innerHTML = "";
            overlay.style.display = 'none';
            document.body.style.overflow = 'auto'; 
        }
    </script>
</body>
</html>
